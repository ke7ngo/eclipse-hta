<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hta SYSTEM "huppaal-0.6.dtd">
<hta>
	<declaration>
		// Here are the declarations...
	</declaration>
	<template type="XOR">
		<name>Template</name>
		<declaration>
			// Here are local declarations for Template
		</declaration>

		<entry id="Template.ENTRY" x="10" y="20">
			<name>A</name>
			<connection>
				<target ref="Template.A" />
			</connection>
		</entry>

		<exit id="Template.EXIT" x="20" y="20" type="default-exit">
			<name>C</name>
		</exit>

		<location id="Template.A" x="10" y="20">
			<name>A</name>
		</location>

		<location id="Template.C" x="20" y="20">
			<name>C</name>
		</location>

		<component instantiates="Submodel-Template" id="Template.B">
			<name>B1</name>
		</component>

		<transition>
			<source ref="Template.A" />
			<target ref="Template.B" entryref="Submodel.ENTRY" />
		</transition>
		<transition>
			<source ref="Template.B" exitref="Submodel.EXIT" />
			<target ref="Template.C" />
		</transition>
	</template>
	
	<template type="XOR">
		<name>Submodel-Template</name>
		<declaration>
		</declaration>

		<entry id="Submodel.ENTRY" x="10" y="20">
			<name>A</name>
			<connection>
				<target ref="Submodel.A" />
			</connection>
		</entry>

		<exit id="Submodel.EXIT" x="20" y="20" type="default-exit">
			<name>C</name>
		</exit>

		<location id="Submodel.A" x="10" y="20">
			<name>A</name>
		</location>

		<location id="Submodel.B1" x="15" y="20">
			<name>B1</name>
		</location>

		<location id="Submodel.B2" x="15" y="20">
			<name>B2</name>
		</location>

		<location id="Submodel.C" x="20" y="20">
			<name>C</name>
		</location>

		<transition>
			<source ref="Submodel.A" />
			<target ref="Submodel.B1" />
		</transition>
		<transition>
			<source ref="Submodel.A" />
			<target ref="Submodel.B2" />
		</transition>
		<transition>
			<source ref="Submodel.B1" />
			<target ref="Submodel.C" />
		</transition>
		<transition>
			<source ref="Submodel.B2" />
			<target ref="Submodel.C" />
		</transition>

	</template>
	
	<instantiation>
		template := Template();
	</instantiation>
	<system>
		system template;
	</system>
	<globalinit instantiationname="template" ref="Template.ENTRY" />
</hta>
